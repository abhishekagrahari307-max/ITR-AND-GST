<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SecureTax â€“ BharatOS Integrated Tax Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Theme */
    :root {
      --bg-color: #f9fafb;
      --text-color: #111827;
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --card-bg: #ffffff;
      --nav-bg: rgba(255, 255, 255, 0.85);
      --shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    body.dark {
      --bg-color: #111827;
      --text-color: #f3f4f6;
      --card-bg: #1f2937;
      --nav-bg: rgba(31, 41, 55, 0.85);
      --shadow: 0 4px 15px rgba(0,0,0,0.6);
    }
    * {margin:0; padding:0; box-sizing:border-box;}
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }
    a {text-decoration: none; color: inherit;}

    /* Navbar */
    nav {
      position: sticky; top: 0; z-index: 50;
      background: var(--nav-bg);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      display: flex; justify-content: space-between; align-items: center;
      padding: 0.75rem 1.5rem;
    }
    nav .logo {font-size:1.25rem; font-weight:700; color:var(--primary);}
    nav ul {display:flex; gap:1rem; align-items:center; list-style:none;}
    nav ul li {font-weight:500;}
    nav button {
      background: var(--primary); color:#fff; border:none; border-radius:8px;
      padding:0.4rem 0.9rem; cursor:pointer;
      transition:background 0.3s;
    }
    nav button:hover {background: var(--primary-dark);}
    #hamburger {display:none; flex-direction:column; cursor:pointer;}
    #hamburger span {width:25px;height:3px;background:var(--text-color);margin:4px 0; transition:.3s;}

    /* Hero */
    .hero {
      min-height:80vh;
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      text-align:center;
      background: linear-gradient(135deg, #2563eb, #9333ea);
      color:#fff;
      position:relative;
      overflow:hidden;
    }
    .hero h1 {font-size:3rem; margin-bottom:1rem;}
    .hero p {font-size:1.2rem; max-width:600px;}
    .hero .btn-primary {
        background:#fff; color:#2563eb; padding:0.8rem 1.5rem;
        border-radius:10px; font-weight:600; margin-top:2rem;
        transition:.3s;
    }
    .hero .btn-primary:hover {background:#e0e7ff;}
    .wave {position:absolute; bottom:-1px; left:0; width:100%; height:80px; overflow:hidden;}
    .wave svg {width:100%; height:100%;}

    /* Services */
    .services {
      display:grid; gap:1.5rem;
      grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
      padding: 4rem 1.5rem;
      max-width:1200px; margin:auto;
    }
    .card {
      background: var(--card-bg);
      padding:2rem; border-radius:12px;
      box-shadow: var(--shadow);
      text-align:center;
      transition: transform .3s;
      cursor:pointer;
    }
    .card:hover {transform:translateY(-8px);}
    .card h3 {margin-top:1rem; margin-bottom:0.5rem;}

    /* Footer */
    footer { padding:2rem 1.5rem; text-align:center;
      background: var(--primary); color:#fff; margin-top:3rem; }

    /* Assistant */
    #assistant-toggle {
      position:fixed; bottom:1.5rem; right:1.5rem;
      background:var(--primary); color:#fff;
      width:56px; height:56px;
      border-radius:50%; display:flex; justify-content:center; align-items:center;
      font-size:1.5rem; cursor:pointer; box-shadow:var(--shadow);
    }
    #assistant-window {
      position:fixed; bottom:90px; right:20px;
      width:320px; height:420px; display:none; flex-direction:column;
      border-radius:12px; box-shadow:var(--shadow);
      background:var(--card-bg); overflow:hidden;
    }
    #assistant-header {
      background: var(--primary); color:#fff; padding:0.8rem;
      font-weight:600; display:flex; justify-content:space-between; align-items:center;
    }
    #assistant-messages {flex:1; padding:1rem; overflow-y:auto;}
    .message {margin-bottom:0.8rem; padding:0.6rem 0.9rem; border-radius:10px; max-width:75%;}
    .user-message {background:var(--primary); color:#fff; margin-left:auto;}
    .bot-message {background:#e5e7eb; color:#111827;}
    body.dark .bot-message {background:#374151; color:#f3f4f6;}
    #assistant-input-area {
      display:flex; padding:0.5rem; border-top:1px solid #e5e7eb;
      background:var(--card-bg);
    }
    #assistant-input-area input {
      flex:1; padding:0.5rem; border:1px solid #d1d5db; border-radius:8px;
      background:transparent; color:var(--text-color);
    }
    #assistant-send-btn {
      background: var(--primary); color:#fff; border:none; margin-left:0.5rem;
      border-radius:8px; padding:0 1rem; cursor:pointer;
    }

    /* Toast */
    .toast {
      position: fixed; bottom: 20px; right: 20px;
      background: var(--primary); color:#fff;
      padding: 10px 16px; border-radius: 8px;
      box-shadow: var(--shadow); z-index:1000; opacity:0;
      transform: translateY(20px);
      transition: opacity 0.3s, transform 0.3s;
    }
    .toast.show {opacity:1; transform:translateY(0);}

    /* Dark Mode Toggle */
    .dark-toggle { cursor:pointer; font-size:1.2rem; margin-left:1rem; }

    /* Responsive */
    @media(max-width:768px) {
      nav ul {display:none; flex-direction:column; background:var(--card-bg); 
        position:absolute; top:60px; right:10px; border-radius:8px; padding:1rem;}
      nav ul.show {display:flex;}
      #hamburger {display:flex;}
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="logo">SecureTax ðŸ‡®ðŸ‡³</div>
    <div id="hamburger"><span></span><span></span><span></span></div>
    <ul id="nav-links">
      <li><a href="#">Home</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#" id="dashboard-link">Dashboard</a></li>
      <li><a href="#" id="profile-link">Profile</a></li>
      <li id="auth-buttons">
        <button onclick="mockLogin()">Login</button>
        <button onclick="showToast('Register flow not implemented')">Register</button>
      </li>
      <li id="user-menu" style="display:none">
        <span id="user-name"></span>
        <button onclick="handleLogout()">Logout</button>
      </li>
      <li class="dark-toggle" onclick="toggleDarkMode()">ðŸŒ“</li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Welcome to SecureTax Portal</h1>
    <p>ðŸ‡®ðŸ‡³ BharatOS Powered â€¢ Tax Filing & AI Assistance with secure boot & TPM encryption</p>
    <a href="#services" class="btn-primary">Explore Services</a>
    <div class="wave">
      <svg viewBox="0 0 500 80" preserveAspectRatio="none">
        <path d="M0,30 C150,80 350,0 500,50 L500,0 L0,0 Z" fill="#fff"></path>
      </svg>
    </div>
  </section>

  <!-- Services -->
  <section id="services" class="services">
    <div class="card"><h3>File IT Returns</h3><p>Simple & fast e-filing with BharatOS compliance.</p></div>
    <div class="card"><h3>Tax Calculator</h3><p>Plan finances with AI-powered calculators.</p></div>
    <div class="card"><h3>Govt. Schemes</h3><p>Check eligibility for latest schemes.</p></div>
    <div class="card"><h3>AI Assistant</h3><p>24x7 chatbot answers your queries instantly.</p></div>
  </section>

  <!-- Footer -->
  <footer>
    <p>Â© 2025 SecureTax â€“ BharatOS â€¢ Secure. Fast. Trusted.</p>
  </footer>

  <!-- Floating AI Assistant -->
  <div id="assistant-toggle">ðŸ’¬</div>
  <div id="assistant-window">
    <div id="assistant-header">AI Assistant <span id="assistant-close" style="cursor:pointer;">âœ–</span></div>
    <div id="assistant-messages"></div>
    <div id="assistant-input-area">
      <input type="text" id="assistant-input" placeholder="Ask something...">
      <button id="assistant-send-btn">Send</button>
    </div>
  </div>

  <script>
    // Auth
    function checkAuthStatus() {
      const token = localStorage.getItem('token');
      const authButtons = document.getElementById('auth-buttons');
      const userMenu = document.getElementById('user-menu');
      const dashboardLink = document.getElementById('dashboard-link');
      const profileLink = document.getElementById('profile-link');
      const userName = document.getElementById('user-name');

      if (token) {
        authButtons.style.display = 'none';
        userMenu.style.display = 'flex';
        dashboardLink.style.display = 'inline-block';
        profileLink.style.display = 'inline-block';
        userName.textContent = "ðŸ‘¤ " + (localStorage.getItem("username") || "User");
      } else {
        authButtons.style.display = 'flex';
        userMenu.style.display = 'none';
        dashboardLink.style.display = 'none';
        profileLink.style.display = 'none';
      }
    }

    function handleLogout() {
      localStorage.removeItem('token');
      localStorage.removeItem('username');
      checkAuthStatus();
      showToast("âœ… You have logged out!");
      setTimeout(() => location.reload(), 1200);
    }

    function mockLogin() {
      localStorage.setItem('token', 'sampletoken');
      localStorage.setItem('username', 'Arjun Kumar');
      checkAuthStatus();
      showToast("âœ… Logged in as Arjun Kumar!");
    }

    // AI Assistant
    function setupAIAssistant() {
      const toggleBtn = document.getElementById('assistant-toggle');
      const windowEl = document.getElementById('assistant-window');
      const closeBtn = document.getElementById('assistant-close');
      const sendBtn = document.getElementById('assistant-send-btn');
      const inputEl = document.getElementById('assistant-input');
      const messages = document.getElementById('assistant-messages');

      toggleBtn.addEventListener('click', () => {
        windowEl.style.display = windowEl.style.display === 'flex' ? 'none' : 'flex';
      });
      closeBtn.addEventListener('click', () => windowEl.style.display = 'none');

      sendBtn.addEventListener('click', sendMessage);
      inputEl.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });

      loadChat();

      function sendMessage() {
        const text = inputEl.value.trim();
        if (!text) return;
        appendMessage(text, 'user');
        inputEl.value = '';
        saveChat();
        setTimeout(() => { appendMessage("ðŸ¤– Got it! You asked: " + text, 'bot'); saveChat(); }, 800);
      }
      function appendMessage(text, sender) {
        const div = document.createElement('div');
        div.classList.add('message', sender === 'user' ? 'user-message' : 'bot-message');
        div.textContent = text;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
      }
      function saveChat() {
        localStorage.setItem('chat-history', messages.innerHTML);
      }
      function loadChat() {
        const saved = localStorage.getItem('chat-history');
        if (saved) messages.innerHTML = saved;
      }
    }

    // Dark Mode
    function toggleDarkMode() {
      const dark = document.body.classList.toggle('dark');
      localStorage.setItem('theme', dark ? 'dark' : 'light');
    }

    // Toast
    function showToast(msg) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = msg;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 100);
      setTimeout(() => { toast.classList.remove('show'); toast.remove(); }, 3000);
    }

    // Mobile Menu
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('nav-links');
    hamburger.addEventListener('click', () => navLinks.classList.toggle('show'));

    // Init
    window.onload = () => {
      checkAuthStatus();
      setupAIAssistant();
      if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
    };
  </script>
</body>
</html>
